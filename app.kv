<ContentNavigationDrawer>

    MDList:

        OneLineListItem:
            text: "Extrusion"
            on_press:
                root.nav_drawer.set_state("close")
                root.screen_manager.current = "extrusion"

        OneLineListItem:
            text: "Flow"
            on_press:
                root.nav_drawer.set_state("close")
                root.screen_manager.current = "flow"


MDScreen:

    MDTopAppBar:
        pos_hint: {"top": 1}
        elevation: 4
        title: "3-D Hot End Calculator"
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
        right_action_items: [["window-close", lambda x: app.stop()]]

    MDNavigationLayout:

        MDScreenManager:
            id: screen_manager

            MDScreen:
                MDLabel:
                    font_style: "H3"
                    text: "Welcome to your Hot End Calculator"
                    theme_text_color: "Custom"
                    text_color: .077,1,1,1
                    halign: "center"
                    

            MDScreen:
                name: "extrusion"

                MDTextField:
                    id: extrude_dist
                    hint_text: "Enter extruded filament"
                    helper_text: "Measurent of filament from original marks befor and after"
                    helper_text_mode: "on_focus"
                    required: True
                    pos_hint: {"center_x": .5, "center_y": .4}
                    font_size: 30
                    size_hint_x: .8
                    
                MDTextField:
                    id: prev_rotation
                    hint_text: "Enter current rotation distance"
                    helper_text: "This is the previous rotation distance"
                    helper_text_mode: "on_focus"
                    required: True
                    pos_hint: {"center_x": .5, "center_y": .6}
                    font_size: 30
                    size_hint_x: .8

                MDRaisedButton:
                    id: calc_extrusion
                    text: "Calculate Extrusion"
                    pos_hint: {"center_x": 0.5, "center_y": 0.2}
                    on_release: app.calc_extrusion()


            MDScreen:
                name: "flow"

                MDTextField:
                    id: prev_flow_wall
                    hint_text: "Enter current flow"
                    helper_text: "This is the previous flow percentage"
                    helper_text_mode: "on_focus"
                    required: True
                    pos_hint: {"center_x": .5, "center_y": .6}
                    font_size: 30
                    size_hint_x: .8

                MDTextField:
                    id: flow_wall
                    hint_text: "Enter current measured wall"
                    helper_text: "This is the current measurement needing adjustment"
                    helper_text_mode: "on_focus"
                    required: True
                    pos_hint: {"center_x": .5, "center_y": .4}
                    font_size: 30
                    size_hint_x: .8

                MDRaisedButton:
                    id: calc_flow
                    text: "Calculate Flow"
                    pos_hint: {"center_x": 0.5, "center_y": 0.2}
                    on_release: app.calc_flow()

        MDNavigationDrawer:
            id: nav_drawer
            type: "modal"
            orientation: 'vertical'
            #padding: 56, 56, 12, 16
            radius: (0, 16, 16, 0)
            

            MDNavigationDrawerMenu:

                MDNavigationDrawerHeader:
                    title: "Calculator Selection"
                    title_color: "#4dffff"
                    text: "select one"
                    spacing: "4dp"
                    padding: "12dp", "32dp", "12dp", "12dp"
                    Image:
                        source: "3DNozzle_app.png"
                        size_hint: .6, .6
                    

            ContentNavigationDrawer:
                screen_manager: screen_manager
                nav_drawer: nav_drawer

            